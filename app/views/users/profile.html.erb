



<div class="propro">
  <div class="id-info">
    <div class="profile-info">
                  <div>
                    <% if @user.photo.attached? %>
                      <%= cl_image_tag @user.photo.key, width: 60, height: 60 %>
                    <% end %>
                  </div>
                <div class="info-pro">
                    <h5><%= @user.first_name + " " + @user.last_name %></h5>
                    <p><%= @user.job %> (Level <%= @match.level %>)</p>
                    <p id="loc"><%= @user.city + " "%>
                  <% if @user.github_profile != nil %>
                    <%= link_to @user.github_profile, target: :_blank do %>
                      <i class="fab fa-github"></i><% end %><%= + " " %>
                  <% end %>
                    <%= link_to @user.linkedin_profile, target: :_blank do %>
                      <i class="fab fa-linkedin-in"></i></i><% end %>(<%= @user.status %>)</p>
                </div>
      </div>
  </div>

<div class="alert alert-success collapse" role="alert" id="alert-success">
  <h5><%= @user.first_name + " " + @user.last_name %> is in your pipeline üéâ</h5>
  <p>Candidate replies in average in XX days. You can follow the conversation in your ATS </p>
</div>

  <div class="choices">
    <div>
      <% if @match.status == "messaged"  %>
        <button1 type="button" class="choice" data-toggle="modal" data-target="#exampleModalCenter">
          Message sent <i class="fas fa-check"></i>
        </button1>
      <% else %>
        <button1 type="button" class="choice" data-toggle="modal" data-target="#exampleModalCenter">
          Send message <i class="fas fa-paper-plane"></i>
        </button1>
      <% end %>
    </div>
    <div>
      <%= button_to "Archive", archive_req_user_path(@req, @user), class: "choice", id: "dis"%>
    </div>
  </div>
  <div class="profile-nav">
  <ul class="nav">
    <li class="nav-item">
      <a class="nav-link active" id="pills-contact-tab" data-toggle="pill" href="#pills-skills" role="tab" aria-controls="pills-profile" aria-selected="false">Skills</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="#pills-location" role="tab" aria-controls="pills-home" aria-selected="true">Location</a>
    </li>
  </ul>
  <%= cl_image_tag("Line_6_u4e9nl", width: 280, style: 'margin-left: 15px') %>
  </div>
  <div class="tab-content" id="pills-tabContent">
  <div class="tab-pane fade show active" id="pills-skills" role="tabpanel" aria-labelledby="pills-home-tab">
      <div class="loca" >
        <p style="width: 310px; text-align: justify;"><%= @match.matching_description %></p>
      </div>
      <div class="staks">
        <% @known_stacks.each do | user_stack | %>
          <% if user_stack.able_to_learn == false %>
                <div class="stack" data-toggle="tooltip" data-placement="top" title="Mastered">
                  <p style="color: white;"><%= user_stack.stack.name%></p>
              </div>
          <% end %>
        <% end %>
      </div>
      <div class="staks" data-toggle="tooltip" data-placement="top" title="Able to learn">
        <% @known_stacks.each do | user_stack | %>
          <% if user_stack.able_to_learn == true %>
                <div class="staks">
                  <div class="stack-disc" style="background-color: #EDEAFA">
                    <p style="color: black; font-size: 10px;"><%= user_stack.stack.name %></p>
                  </div>
              </div>
          <% end %>
        <% end %>
      </div>
      <%= cl_image_tag("Line_6_u4e9nl", width: 280, style: 'margin-left: 15px;') %>
      <div class="loca">
        <h5 style="font-size: 15px;">Current projects</h5>

      <% @user.previous_experiences.each_with_index do |experience, index| %>
        <p style="width: 310px; text-align: justify;"><%= experience.description %> </p>
        <a href="#" style="font-size: 10px"data-toggle="modal" data-target="#modal-<%= experience.id %>">
            Learn more about <%= experience.employer.name %> >
        </a>

          <div class="modal fade" id="modal-<%= experience.id %>" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered" role="document">
                <div class="modal-content">
                  <div class="title-company">
                    <div>
                      <%= cl_image_tag experience.employer.logo.key, width: 60, height: 60 %>
                    </div>
                    <div style="margin-left: 20px">
                      <h3><%= experience.employer.name %></h3>
                      <div class="title-company">
                        <div class="stack-disc" style="background-color: #EDEAFA"><p style="color: black"><%= experience.employer.industry %></p></div>
                        <div class="stack-disc" style="background-color: #EDEAFA"><p style="color: black"><%= experience.employer.funding_stage %></p></div>
                      </div>
                    </div>
                  </div>
                  <div style="margin-top: 10px;">
                    <p><%= experience.employer.description %></p>
                    <hr>
                  </div>
                  <div class="title-company">
                    <div>
                      <%= cl_image_tag @user.photo.key, width: 40, height: 40 %>
                    </div>
                    <div style="margin-left: 20px">
                      <p><b><%= @user.first_name %> at <%= experience.employer.name %></b></p>
                      <p style="color: grey;  line-height: 0px"><%= experience.started_at %> - <%= experience.end_at %></p>
                    </div>
                    <div style="margin-left: 30px">
                      <p><b>Fundraisings üí∏ </b></p>
                      <p style="color: grey; line-height: 0px"><%= experience.fundraising %></p>
                    </div>
                    <div style="margin-left: 30px">
                      <p><b>Company size üë• </b></p>
                      <p style="color: grey; line-height: 0px"><%= experience.team_size %></p>
                    </div>
                  </div>
                  <hr>
              </div>
            </div>
          </div>

        <div class="staks">
        <% experience.experience_comments.each do |analysis| %>
          <div class="comment">
            <p style="color: white; font-size: 9px"><%= analysis.comment %></p>
          </div>
        <% end %>
      </div>
        <%= cl_image_tag("Line_6_u4e9nl", width: 280, style: 'margin-left: 15px;') %>
  <% end %>

    </div>
    <div class="loca">
      <h5 style="font-size: 15px;">University</h5>
      <p><%= @user.university %>
    </div>
    <div class="loca">
      <h5 style="font-size: 15px;">Soft skills </h5>
        <% @user.user_speaking_languages.each do |user_language| %>

          <p>üí¨ - <%= user_language.speaking_language.name %> - (<%= user_language.level %>)</p>

        <% end  %>
    </div>
  </div>

    <div class="tab-pane fade" id="pills-location" role="tabpanel" aria-labelledby="pills-home-tab">
      <div class="loca" style="margin-top: 10px">
        <% if @user.full_remote_only == true %>
        <div class="openn" style="background-color: #EDEAFA"><p>üåç Full remote </p></div>
        <% end %>

        <% if @user.contractor_possible == true  %>
        <div class="openn2" style="background-color: #EDEAFA"><p>‚öñÔ∏è Contractor possible</p></div>
        <% end %>

        <% if @user.relocation_possible == true  %>
          <div class="openn2" style="background-color: #EDEAFA"><p>üõ´ Open to relocation</p></div>
        <% end %>
      </div>
      <div class="loca">
        <p>Timezone : <%= @user.timezone %></p>
        <div class="team-overlap">
          <div>
           üè†
          </div>
          <p style="margin-top: 4px; margin-left: 10px;"><b><%= @match.timezone_overlap %> hours </b> overlap with HQ </p>
        </div>
      </div>
        <%= cl_image_tag("Line_6_u4e9nl", width: 280, style: 'margin-left: 15px') %>
      <div class="loca">
        <h5 style="font-size: 15px">Compensation for this profile</h5>
        <p>üíµ Expected : <b> US$ <%= @user.expected_wage %> K </b></p>
        <p>üìè Area median : US$ <%= @user.area_median_wage %> K </p>
        <p>üóì Notice period : <%= @country.notice_period %> </p>
      </div>
        <%= cl_image_tag("Line_6_u4e9nl", width: 280, style: 'margin-left: 15px') %>
       <div class="loca">
        <h5 style="font-size: 15px">Career expectations</h5>
        <p><%= @user.next_jobs %></p>
      </div>
        <%= cl_image_tag("Line_6_u4e9nl", width: 280, style: 'margin-left: 15px') %>
      <div class="loca">
        <h5 style="font-size: 15px">Benefits</h5>
        <p>üöë  <%= @country.healthcare %></p>
        <p>üë¥ <%= @country.other_benefits %></p>
      <%= cl_image_tag("Line_6_u4e9nl", width: 280, style: 'margin-left: 15px') %>
      </div>
    </div>
  </div>
</div>


<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="mod-title">
        <h5 class="modal-title" id="exampleModalLongTitle">Send a message <br> to <%= @user.first_name + " " + @user.last_name  %> </h5>
          <p>Start a conversation with <%= @user.first_name %>.</p>
        <% if @user.photo.attached? %>
            <div style="margin-top: 5px">
              <%= cl_image_tag @user.photo.key, height: 35, width: 35 %>
            </div>
        <% end  %>
      </div>
      <div class="modal-body">
        <%= simple_form_for @match, url: req_user_path(@req, @user) do |f| %>
          <%= f.input :message_content, :placeholder => "Type a relevant message to the talent", :input_html => {:rows => 10}, label: false %>
          <hr>
          <%= f.input :rate,
          :label => "How much is the talent relevant according to you ? (1-5)" %>
          <%= f.input :comment,
          :label => "Feedback for Magellan team (private)",
          :input_html => {:rows => 6} %>
        <%= f.button :submit, 'Start conversation', class:"choice", 'data-toggle': "collapse", 'data-target': "#alert-success" %>
      <% end %>
      <button1 type="button" class="choice" id='dis' data-dismiss="modal" style="margin-top: 10px">Cancel </button1>

      </div>
    </div>
  </div>
</div>

<div class="flash flash-success alert alert-dismissible fade" role="alert" id="alert-success">
  <span><%= @user.last_name %> has been messaged </span>
  <a data-dismiss="alert" aria-label="Close">
    <i class="fas fa-times"></i>
  </a>
</div>



<style>


.row {
  height: 100vh;
}


.openn {
  text-align: center;
  width: 100px;
  height: 25px;
  padding: 7px;
  margin-bottom: 10px;
  border-radius: 7px;
}

.openn2 {
  text-align: center;
  width: 150px;
  height: 25px;
  padding: 7px;
  margin-bottom: 10px;
  border-radius: 7px;
}

.text1 {
  background-color: black;
}



.text {
  font-size: 10px;
  color: black;

}

.mod-footer {
  display: flex,
  justify-content: center;
}

.modal-content {
  padding-top: 30px!important;
}

.title-company {
  display: flex;
  justify-content: flex-start;
}

.comment {
  background-color:#090131;
  opacity: 50%;
  width: 100px;
  border-radius: 5px;
  margin: 5px;
  padding: 6px;
  height: 25px;
  text-align: center;

}

.alert {
  text-align: center;
  margin-right: 450px;
  margin-bottom: 700px;
}

.alert p {
  font-size: 10px;
}

.mod-footer {
  margin-top: 10px;
  text-align: center;
}


.mod-title {
  text-align: center;
}

textarea {
  padding: 10px;
  border: none;
  outline: none;
  font-size: 10px;
  width: 98%;
  height: 150px;
  background-color: #F0F0F1;
}

#text2 {
  border: none;
  outline: none;
  font-size: 10px;
  width: 98%;
  height: 60px;
  background-color: #F0F0F1;
}

.modal-content {
  border-radius: 10px;
}

.modal-content {
  padding-top: 60px;
  padding-bottom: 60px;
  padding-left: 30px;
  padding-right: 30px;

}

.modal p {
  font-size: 10px;
}

p {
  color: #090131;
}

h5 {
  color: #090131;
}

.modal-body input {
  font-size: 10px;
}

.modal-body label {
  font-size: 10px;
  color: black;
}

.job-desc {
  margin-left: 10px;
  line-height: 5px;
}

.former-job {
  display: flex;
  justify-content: flex-start !important;
}


.staks {
  display: flex;
  justify-content: flex-start;
}

.stack {
  margin-top: 5px;
  margin-left: 6px;
  background-color: #090131;
  display: block;
  text-align: center;
  vertical-align: middle;
  border-radius: 10px;
  width: 100px;
  height: 30px;
  line-height: 30px;
  p {
    font-size: 10px;
    color: white;
  }
}

small {
  color: #777581;
  font-size: 8px;
  margin-left: 0px !important;
}


.team-overlap {
  display: flex;
  justify-content: flex-start;
}

.loca {
  margin-left: 15px;
}

.tab-pane p {
  font-size: 10px
}

.tab-pane {
  padding-right: 20px;
  padding-left: 10px;
}

#pills-location p {
  line-height: 9px;
}


.profile-nav {
  font-size: 10px;
  margin-top: 15px;
  margin-bottom: 0px ;
  padding-left: 10px;
}

#pills-contact-tab {
  margin-right: 0px;
}

.choices {
  padding-left: 25px;
  display: flex;
  justify-content: flex-start;
}

.choice {
  color: white;
  padding: 10px;
  background-color: #4175FE;
  border-radius: 5px;
  font-size: 10px;
  margin-right: 10px;
  border: none;
}

.choice:hover {
  background-color: blue;
  color: white;
  text-decoration: none;
}

#dis {
  background-color: #F0F0F1;
  color: #090131;
}

#dis:hover{
  background-color: blue;
  color: white;
  text-decoration: none;
}

.info-pro p {
  font-size: 12px;
  margin-bottom: 9px !important;
  color: #777581;
}

#loc {
  color: #090131;
}

.info-pro h5 {
  font-size: 20px;
  color: #090131;
}

.id-info {
  margin-left: 10px;
}

.show {
  display: block i !important;
}


.div-profile {
  height: 700px;
  overflow-y: scroll;
}

.id-info {
  display: flex;
  justify-content: space-between;
  padding-left: 15px;
  padding-top: 30px;
  padding-bottom: 20px;
    h4 {
      color: #090131;
    }

    i {
      color: #090131;
    }
}

.profile-info {
  display: flex;
  justify-content: center;
  line-height: 5px;
}


.info-pro {
  margin-left: 15px;
}

#msg {
  margin-top: 0px;
}

.secondary-actions {
  display: flex;
  justify-content: flex-end;
  margin-top: 10px;

  i {
    margin-left: 10px;
  }
}

.stacks-info {
  margin-left: 30px;
  margin-right: 30px;
  background-color: #F0F0F1;
  border-radius: 10px;
  height: 130px;
}

.bio-challenges {
  margin-left: 18px;
  margin-top: 10px;
}

.stack {
  margin-top: 5px;
  margin-left: 20px;
  background-color: #090131;
  display: block;
  text-align: center;
  vertical-align: middle;
  border-radius: 10px;
  width: 140px;
  height: 30px;
  line-height: 30px;
  p {
    font-size: 10px;
    color: white;
  }
}

.stack-disc {
  margin-top: 5px;
  margin-left: 8px;
  background-color: #090131;
  display: block;
  text-align: center;
  vertical-align: middle;
  border-radius: 10px;
  width: 70px;
  height: 30px;
  line-height: 30px;
  p {
    font-size: 8px;
    color: white;
  }
}

#title-stack {
  color: #777581;
  font-size: 10px;
  margin-left: 20px;
  padding-top: 10px;
}

</style>


