<div class="propro">
  <div class="id-info">
    <div class="profile-info">
                  <div>
                    <%= cl_image_tag @user.photo.key, width: 60, height: 60 %>
                  </div>
                <div class="info-pro">
                    <h5><%= @user.first_name + " " + @user.last_name %></h5>
                    <p><%= @user.job %> </p>
                    <p id="loc"><%= @user.city + " " %><i class="fab fa-github"></i><%= + " " %><i class="fab fa-linkedin-in"></i></p>
                </div>
      </div>
  </div>

<div class="alert alert-success collapse" role="alert" id="alert-success">
  <h5><%= @user.first_name + " " + @user.last_name %> is in your pipeline üéâ</h5>
  <p>Candidate replies in average in XX days. You can follow the conversation in your ATS </p>
</div>

  <div class="choices">
    <button1 type="button" class="choice" data-toggle="modal" data-target="#exampleModalCenter">
      Send message <i class="fas fa-paper-plane"></i>
    </button1>
  </div>
  <div class="profile-nav">
  <ul class="nav">
    <li class="nav-item">
      <a class="nav-link active" id="pills-contact-tab" data-toggle="pill" href="#pills-skills" role="tab" aria-controls="pills-profile" aria-selected="false">Skills</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="#pills-location" role="tab" aria-controls="pills-home" aria-selected="true">Location</a>
    </li>
    <li class="nav-item">
      <a class="nav-link" id="pills-contact-tab" data-toggle="pill" href="#pills-expectations" role="tab" aria-controls="pills-contact" aria-selected="false">Expectations</a>
    </li>
  </ul>
  <%= cl_image_tag("Line_6_u4e9nl", width: 280, style: 'margin-left: 15px') %>
  </div>
  <div class="tab-content" id="pills-tabContent">
  <div class="tab-pane fade show active" id="pills-skills" role="tabpanel" aria-labelledby="pills-home-tab">
      <div class="loca">
        <p style="width: 310px; text-align: justify;"><%= @match.matching_description %></p>
      </div>
    <%= cl_image_tag("Line_6_u4e9nl", width: 280, style: 'margin-left: 15px;') %>
      <div class="staks">
        <% @known_stacks.each do | user_stack | %>
          <% if user_stack.able_to_learn == false %>
                <div class="stack">
                  <p style="color: white"><%= user_stack.stack.name%> - <%= user_stack.years_xp %> years </p>
              </div>
          <% end %>
        <% end %>
      </div>
      <div class="staks">
        <% @known_stacks.each do | user_stack | %>
          <% if user_stack.able_to_learn == true %>
                <div class="staks">
                  <div class="stack-disc" style="background-color: #EDEAFA">
                    <p style="color: black; font-size: 10px"><%= user_stack.stack.name %></p>
                  </div>
              </div>
          <% end %>
        <% end %>
      </div>
      <%= cl_image_tag("Line_6_u4e9nl", width: 280, style: 'margin-left: 15px;') %>
      <div class="loca">
        <h5 style="font-size: 15px;">Past projects</h5>

      <% @user.previous_experiences.each_with_index do |experience, index| %>
        <p style="width: 310px; text-align: justify;"><%= index + 1 %> - <%= experience.description %></p>
        <p>Learn more about <%= experience.employer.name %> ></p>
        <div class="staks">
        <% experience.experience_comments.each do |analysis| %>
          <div class="stack-disc" style="background-color: #EDEAFA">
            <p style="color: black; font-size: 10px"><%= analysis.comment %></p>
          </div>
        <% end %>
      </div>
        <%= cl_image_tag("Line_6_u4e9nl", width: 280, style: 'margin-left: 15px;') %>
    <% end  %>
    </div>
    <div class="loca">
      <h5 style="font-size: 15px;">Soft skills </h5>
      <p>üá∫üá∏ - <%= @user.speaking_languages.first.name %>- <%= @user.user_speaking_languages.first.level %></p>
      <p>üá™üá∏ - <%= @user.speaking_languages.second.name %>- <%= @user.user_speaking_languages.second.level %> (<%= @user.user_speaking_languages.second.country %>)</p>
      <% @user.coding_practices.each do |pratrice|%>
      <p><i class="fas fa-tasks"></i> <%= pratrice.name %>
      <% end %>

      </p>
    </div>
  </div>

    <div class="tab-pane fade" id="pills-location" role="tabpanel" aria-labelledby="pills-home-tab">
      <div class="loca">
        <p>Timezone : <%= @user.timezone %></p>
        <p><b>  XX overlap</b> with your team </p>
        <div class="team-overlap">
          <div>
           üè†
          </div>
          <p style="margin-top: 4px; margin-left: 10px;"><b><%= rand(6..9) %></b> hours with HQ </p>
        </div>
      </div>
        <%= cl_image_tag("Line_6_u4e9nl", width: 280, style: 'margin-left: 15px') %>
      <div class="loca">
        <h5 style="font-size: 15px">Compensation for this profile</h5>
        <p>üíµ Expected : <b> $ <%= @user.expected_wage %> K </b><small>(- <%= rand(1..15)%> % of your global floor)</small></p>
        <p>üìè Area median : <%= @country.area_median_wage %> </p>
        <p>üóì Notice period : <%= @country.notice_period %> </p>
      </div>
        <%= cl_image_tag("Line_6_u4e9nl", width: 280, style: 'margin-left: 15px') %>
      <div class="loca">
        <h5 style="font-size: 15px">Benefits</h5>
        <p>üöë  <%= @country.healthcare %> <small>(average cost $2K month)</small></p>
        <p>üë¥ </p>
      <%= cl_image_tag("Line_6_u4e9nl", width: 280, style: 'margin-left: 15px') %>
      </div>
    </div>

  <div class="tab-pane fade" id="pills-expectations" role="tabpanel" aria-labelledby="pills-home-tab">
    <div class="loca">
      <h5 style="font-size: 15px; padding-top: 30px">Next technical steps</h5>

      <%= cl_image_tag("Line_6_u4e9nl", width: 280, style: 'margin-left: 15px') %>
      <p style="color: #777581">Stacks and tools to explore</p>
    </div>
    <%= cl_image_tag("Line_6_u4e9nl", width: 280, style: 'margin-left: 15px') %>
    <div class="loca">
      <h5 style="font-size: 15px; padding-top: 30px">Next career steps</h5>

    </div>
  </div>
  </div>
</div>


<!-- Modal -->
<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="mod-title">
        <h5 class="modal-title" id="exampleModalLongTitle">Send a message <br> to <%= @user.first_name + " " + @user.last_name  %> </h5>
          <p>Start a conversation with <%= @user.first_name + " " %>. He will be notified in Magellan. </p>
      <div style="margin-top: 5px">
      <%= cl_image_tag @users.first.photo.key, height: 35, width: 35, style: "z-index: 1" %>
      <%= cl_image_tag @user.photo.key, height: 35, width: 35, style: "margin-left: -10px;" %>
    </div>
      </div>

      <div class="modal-body">
        <textarea id="description" placeholder="Type a relevant message to <%= @user.first_name %> "></textarea>
      <hr>

      <div class="mod-footer">
      <button1 type="button" class="choice" id='dis' data-dismiss="modal">Cancel </button1>
        <%= link_to message_req_user_path(@req, @user), method: :post do %>
            <button1 type="button" class="choice" data-dismiss="modal" id="starting">
              Start conversation <i class="fas fa-paper-plane"></i>
            </button1>
        <% end %>
      </div>
      </div>
    </div>
  </div>
</div>


<style>

.alert {
  text-align: center;
  margin-right: 450px;
  margin-bottom: 700px;
}

.alert p {
  font-size: 10px;
}

.mod-footer {
  margin-top: 10px;
  text-align: center;
}


.mod-title {
  text-align: center;
}

textarea {
  padding: 10px;
  border: none;
  outline: none;
  font-size: 10px;
  width: 98%;
  height: 150px;
  background-color: #F0F0F1;
}

#text2 {
  border: none;
  outline: none;
  font-size: 10px;
  width: 98%;
  height: 60px;
  background-color: #F0F0F1;
}

.modal-content {
  border-radius: 10px;
}

.modal-content {
  padding-top: 60px;
  padding-bottom: 60px;
  padding-left: 30px;
  padding-right: 30px;

}

.modal p {
  font-size: 10px;
}

p {
  color: #090131;
}

h5 {
  color: #090131;
}


.job-desc {
  margin-left: 10px;
  line-height: 5px;
}

.former-job {
  display: flex;
  justify-content: flex-start !important;
}


.staks {
  display: flex;
  justify-content: flex-start;
}

.stack {
  margin-top: 5px;
  margin-left: 6px;
  background-color: #090131;
  display: block;
  text-align: center;
  vertical-align: middle;
  border-radius: 10px;
  width: 100px;
  height: 30px;
  line-height: 30px;
  p {
    font-size: 10px;
    color: white;
  }
}

small {
  color: #777581;
  font-size: 8px;
  margin-left: 0px !important;
}


.team-overlap {
  display: flex;
  justify-content: flex-start;
}

.loca {
  margin-left: 15px;
}

.tab-pane p {
  font-size: 10px
}

.tab-pane {
  padding-right: 20px;
  padding-left: 10px;
}

#pills-location p {
  line-height: 9px;
}


.profile-nav {
  font-size: 10px;
  margin-top: 15px;
  margin-bottom: 0px ;
  padding-left: 10px;
}

#pills-contact-tab {
  margin-right: 0px;
}

.choices {
  padding-left: 25px;
}

.choice {
  color: white;
  padding: 10px;
  background-color: #4175FE;
  border-radius: 5px;
  font-size: 10px;
  margin-right: 10px;
}

.choice:hover {
  background-color: blue;
  color: white;
  text-decoration: none;
}

#dis {
  background-color: #F0F0F1;
  color: #090131;
}

#dis:hover{
  background-color: blue;
  color: white;
  text-decoration: none;
}

.info-pro p {
  font-size: 12px;
  margin-bottom: 9px !important;
  color: #777581;
}

#loc {
  color: #090131;
}

.info-pro h5 {
  font-size: 20px;
  color: #090131;
}

.id-info {
  margin-left: 10px;
}

.show {
  display: block i !important;
}


.div-profile {
  height: 700px;
  overflow-y: scroll;
}

.id-info {
  display: flex;
  justify-content: space-between;
  padding-left: 15px;
  padding-top: 30px;
  padding-bottom: 20px;
    h4 {
      color: #090131;
    }

    i {
      color: #090131;
    }
}

.profile-info {
  display: flex;
  justify-content: center;
  line-height: 5px;
}


.info-pro {
  margin-left: 15px;
}

#msg {
  margin-top: 0px;
}

.secondary-actions {
  display: flex;
  justify-content: flex-end;
  margin-top: 10px;

  i {
    margin-left: 10px;
  }
}

.stacks-info {
  margin-left: 30px;
  margin-right: 30px;
  background-color: #F0F0F1;
  border-radius: 10px;
  height: 130px;
}

.bio-challenges {
  margin-left: 18px;
  margin-top: 10px;
}

.stack {
  margin-top: 5px;
  margin-left: 20px;
  background-color: #090131;
  display: block;
  text-align: center;
  vertical-align: middle;
  border-radius: 10px;
  width: 140px;
  height: 30px;
  line-height: 30px;
  p {
    font-size: 10px;
    color: white;
  }
}

.stack-disc {
  margin-top: 5px;
  margin-left: 8px;
  background-color: #090131;
  display: block;
  text-align: center;
  vertical-align: middle;
  border-radius: 10px;
  width: 70px;
  height: 30px;
  line-height: 30px;
  p {
    font-size: 8px;
    color: white;
  }
}

#title-stack {
  color: #777581;
  font-size: 10px;
  margin-left: 20px;
  padding-top: 10px;
}


</style>

<script>
  const starting = document.getElementById("starting");
const alert1 = document.getElementById("alert-success");
  starting.addEventListener("click", (event) => {
    alert1.classList.toggle("show");
  });

</script>
